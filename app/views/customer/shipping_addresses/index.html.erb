<% provide(:title, "配送先登録/一覧") %>
<h2>配送先登録/一覧</h2>

<%= render "layouts/error_messages", resource: @shipping_address %>

<%= form_with(model: @shipping_address, :url => {:controller => "customer/shipping_addresses"}, local: true) do |f| %>

    <div class="field row">
        <%= f.label :"郵便番号(ハイフンなし)" ,class: "col-sm-3 control-label" %>
        <%= f.text_field :postal_code, class: "col-sm-3 form-control-static postal_code" %>
    </div>

    <div class="field row">
        <%= f.label :"住所" ,class: "col-sm-3 control-label" %>
        <%= f.text_field :address, class: "col-sm-6 form-control-static address" %>
    </div>

    <div class="field row">
        <%= f.label :"宛名" ,class: "col-sm-3 control-label" %>
        <%= f.text_field :name, class: "col-sm-3 form-control-static name" %>
        <%= f.submit '登録する' ,class: "col-sm-1 btn-sm btn-success edit_shipping_addres" %>
    </div>

<% end %>


<table class="table table-hover table-inverse">
    <thead>
        <tr>
            <th>郵便番号</th>
            <th>住所</th>
            <th>宛名</th>
            <th colspan="2"></th>
        </tr>
    </thead>

    <tbody>
      <% @shipping_addresses.each do |shipping_address| %>
        <tr>
            <td>
                <%= shipping_address.postal_code %>
            </td>
            <td>
                <%= shipping_address.address %>
            </td>
            <td>
                <%= shipping_address.name %>
            </td>
            <td>
                <%= link_to "編集する",edit_customers_shipping_address_path(shipping_address), class: "btn-sm btn-primary" %>
            </td>
            <td>
                <%= link_to "削除する",customers_shipping_address_path(shipping_address), method: :delete, data: {confirm: "本当に削除してもよろしいですか？"}, class: "btn-sm btn-danger destroy_book_#{shipping_address.id}" %>
            </td>
        </tr>
      <% end %>
    </tbody>
</table>
